import { Promise } from 'es6-promise';
import retext from 'retext';
import processor from 'retext-keywords';
import nlcstToString from 'nlcst-to-string';
import _ from 'underscore';

export default class BriefcaseExtension {
  analyzeKeywords() {
    let models = this.getAllModels();
    return new Promise((resolve, reject) => {
      Promise.all(models.map(model => model.analyzeKeywords())).then(results => {
        resolve(_.chain().flatten().uniq().val());
      }, () => {
        reject();
      });
    });
  }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9leHRlbnNpb25zL2JyaWVmY2FzZV9leHRlbnNpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUSxPQUFPLFFBQU8sYUFBYSxDQUFBO0FBQ25DLE9BQU8sTUFBTSxNQUFNLFFBQVEsQ0FBQTtBQUMzQixPQUFPLFNBQVMsTUFBTSxpQkFBaUIsQ0FBQTtBQUN2QyxPQUFPLGFBQWEsTUFBTSxpQkFBaUIsQ0FBQTtBQUMzQyxPQUFPLENBQUMsTUFBTSxZQUFZLENBQUE7O0FBRTFCLGVBQWUsTUFBTSxrQkFBa0IsQ0FBQztBQUN0QyxpQkFBZSxHQUFFO0FBQ2YsUUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFBO0FBQ2hDLFdBQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUMsTUFBTSxLQUFHO0FBQ25DLGFBQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJO0FBQ3hFLGVBQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQTtPQUMxQyxFQUFFLE1BQUk7QUFBRSxjQUFNLEVBQUUsQ0FBQTtPQUFDLENBQUMsQ0FBQTtLQUNwQixDQUFDLENBQUE7R0FDSDtDQUNGIiwiZmlsZSI6ImJyaWVmY2FzZV9leHRlbnNpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Byb21pc2V9IGZyb20gJ2VzNi1wcm9taXNlJ1xuaW1wb3J0IHJldGV4dCBmcm9tICdyZXRleHQnXG5pbXBvcnQgcHJvY2Vzc29yIGZyb20gJ3JldGV4dC1rZXl3b3JkcydcbmltcG9ydCBubGNzdFRvU3RyaW5nIGZyb20gJ25sY3N0LXRvLXN0cmluZydcbmltcG9ydCBfIGZyb20gJ3VuZGVyc2NvcmUnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJyaWVmY2FzZUV4dGVuc2lvbiB7XG4gIGFuYWx5emVLZXl3b3Jkcygpe1xuICAgIGxldCBtb2RlbHMgPSB0aGlzLmdldEFsbE1vZGVscygpXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgIFByb21pc2UuYWxsKG1vZGVscy5tYXAobW9kZWwgPT4gbW9kZWwuYW5hbHl6ZUtleXdvcmRzKCkpKS50aGVuKHJlc3VsdHMgPT4ge1xuICAgICAgICByZXNvbHZlKF8uY2hhaW4oKS5mbGF0dGVuKCkudW5pcSgpLnZhbCgpKVxuICAgICAgfSwgKCk9PnsgcmVqZWN0KCl9KVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==